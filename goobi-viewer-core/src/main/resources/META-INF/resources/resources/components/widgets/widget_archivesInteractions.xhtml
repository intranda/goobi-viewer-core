<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface />

	<composite:implementation>
		<!-- (ADMIN) WIDGET FOR ARCHIVE INTERACTIONS -->
		<h:panelGroup rendered="#{userBean.loggedIn and userBean.admin}">
			<div id="widgetArchivesInteractions"
				class="widget widget-archives-interactions">
				<h:form id="widgetArchivesInteractionsStandardForm"
					prependId="false">
					<h2>#{msg.menuUser_workInteractions}</h2>
					<!-- <h3>#{msg.archives__current_collection}</h3> -->
					<ul>
						<!-- RE-INDEX ARCHIVE -->
						<h:panelGroup rendered="#{userBean.admin}">
							<li><h:commandLink
									action="#{archiveBean.reIndexArchiveAction}">
	                                   #{msg.archives__widget__action_reindex_archive}
	                               </h:commandLink></li>
						</h:panelGroup>

						<!-- 						<h3>#{msg.archives__widget__single_unit}</h3> -->
						<!-- 						<ul> -->
						<!-- LINK CMS PAGE -->
						<!-- 							<h:panelGroup rendered="#{userBean.user.cmsAdmin}"> -->
						<!-- 								<li><a -->
						<!-- 									href="#{cmsPageEditBean.createAndOpenNewPage(msg.overviewPage, archiveBean.currentArchive.resourceId)}">#{msg.action__create_linked_cms_page__label}</a> -->
						<!-- 								</li> -->
						<!-- 							</h:panelGroup> -->
						<!-- ADD RECORD NOTES -->
						<!--                         <h:panelGroup  rendered="#{userBean.admin}"> -->
						<!--                             <li> -->
						<!--                             	<a href="#{request.contextPath}/admin/cms/recordnotes/new/?pi=#{archiveBean.currentArchive.resourceId}"> #{msg.cms__record_notes__add_note}</a> -->
						<!--                             </li> -->
						<!--                         </h:panelGroup> -->


						<!-- 						</ul> -->

						<!-- DOWNLOAD EAD FILE -->
						<h:panelGroup rendered="#{userBean.user.cmsAdmin}">
							<li>
		                        <ui:fragment visibility-class="widget-element">
		                            <a href="#{archiveBean.eadResolverUrl}" download="true" target="_blank"> 
		                                #{msg.archives__widget__action_download_archive}
		                            </a>
		                        </ui:fragment>
							</li>
						</h:panelGroup>

						<!-- DELETE ARCHIVE -->
						<h:panelGroup rendered="#{userBean.admin}">
							<li>

								<button class="widget-archives-interactions__delete-button"
									data-require-confirmation="true"
									data-confirmation-text="#{navigationHelper.getTranslationWithParamsUnescaped(msg.archives__widget__action_delete_confirmation)}"
									jsf:action="#{archiveBean.deleteArchiveAction}"
									aria-label="#{msg.delete}: #{ticket.id}">
									#{msg.archives__widget__action_delete_archive}</button> 

							</li>
						</h:panelGroup>
					</ul>
				</h:form>
			</div>
		</h:panelGroup>
	</composite:implementation>
</ui:composition>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface>
	</composite:interface>

	<composite:implementation>
		<!-- COLOR SWITCHER FUNCTION -->
		<h:form prependId="false">
        	<button aria-label="#{msg.button__theme_color_switch_dark}" jsf:id="darkModeSwitch"
				class="btn btn--clean color-theme-switch color-theme-switch-dark #{(sessionBean.get('colorTheme') eq 'color-theme-light') ? 'active' : ''} #{(sessionBean.get('colorTheme') eq 'color-theme-dark') ? 'hide' : ''}"
				jsf:action="#{sessionBean.put('colorTheme', 'color-theme-dark')}">
				 
				<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
					viewBox="0 0 50 50">
					<title>Dark theme icon</title>
				  <path
							d="M 43.81 29.354 C 43.688 28.958 43.413 28.626 43.046 28.432 C 42.679 28.238 42.251 28.198 41.854 28.321 C 36.161 29.886 30.067 28.272 25.894 24.096 C 21.722 19.92 20.113 13.824 21.683 8.133 C 21.848 7.582 21.697 6.985 21.29 6.578 C 20.884 6.172 20.287 6.022 19.736 6.187 C 10.659 8.728 4.691 17.389 5.55 26.776 C 6.408 36.163 13.847 43.598 23.235 44.451 C 32.622 45.304 41.28 39.332 43.816 30.253 C 43.902 29.96 43.9 29.647 43.81 29.354 Z"
							fill="currentColor" />
				</svg>
				<f:ajax render="@none"></f:ajax>
			</button>
			<button aria-label="#{msg.button__theme_color_switch_light}" jsf:id="lightModeSwitch"
				class="btn btn--clean color-theme-switch color-theme-switch-light #{((sessionBean.get('colorTheme') eq 'color-theme-dark')) ? 'active' : ''} #{(sessionBean.get('colorTheme') eq 'color-theme-light') ? 'hide' : ''}"
				jsf:action="#{sessionBean.put('colorTheme', 'color-theme-light')}">
				

				<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<title>Light theme icon</title>
				      <circle cx="11.9998" cy="11.9998" r="5.75375" fill="currentColor" />
				      <g>
				        <circle cx="3.08982" cy="6.85502" r="1.71143"
										transform="rotate(-60 3.08982 6.85502)" fill="currentColor" />
				        <circle cx="3.0903" cy="17.1436" r="1.71143"
										transform="rotate(-120 3.0903 17.1436)" fill="currentColor" />
				        <circle cx="12" cy="22.2881" r="1.71143" fill="currentColor" />
				        <circle cx="20.9101" cy="17.1436" r="1.71143"
										transform="rotate(-60 20.9101 17.1436)" fill="currentColor" />
				        <circle cx="20.9101" cy="6.8555" r="1.71143"
										transform="rotate(-120 20.9101 6.8555)" fill="currentColor" />
				        <circle cx="12" cy="1.71143" r="1.71143" fill="currentColor" />
				      </g>
				</svg>
				<f:ajax render="@none"></f:ajax>
			</button>
		</h:form>
			<script>
				function switchTheme(colors) {
					$('html').removeClass('color-theme-light color-theme-dark');
					$('html').addClass(colors);
				};
						
				$('##{cc.attrs.clientId}\\:darkModeSwitch').on('click', function() {
					switchTheme('color-theme-dark'); $(this).addClass('hide'); $(this).removeClass('active'); $(this).next().removeClass('hide'); $(this).next().addClass('active');
				});
				
				$('##{cc.attrs.clientId}\\:lightModeSwitch').on('click', function() {
					switchTheme('color-theme-light'); $(this).addClass('hide'); $(this).removeClass('active'); $(this).prev().removeClass('hide'); $(this).prev().addClass('active');
				});

			</script>
	</composite:implementation>
</ui:composition>

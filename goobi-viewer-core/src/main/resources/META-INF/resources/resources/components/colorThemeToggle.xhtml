<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface>
	</composite:interface>

	<composite:implementation>
		<!-- COLOR SWITCHER FUNCTION -->
		<h:form prependId="false">
        	<button aria-label="#{msg.button__theme_color_switch_dark}" jsf:id="darkModeSwitch"
				class="btn btn--clean color-theme-switch color-theme-switch-dark #{(sessionBean.get('colorTheme') eq 'color-theme-light') ? 'active' : ''} #{(sessionBean.get('colorTheme') eq 'color-theme-dark') ? 'hide' : ''}"
				jsf:action="#{sessionBean.put('colorTheme', 'color-theme-dark')}">
				<span class="icon-wrapper" aria-hidden="true">
					<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
						viewBox="0 0 24 24" fill="currentColor"
						class="icon icon-tabler icons-tabler-filled icon-tabler-moon">
						<title>Dark theme icon</title>
						<path d="M0 0h24v24H0z" fill="none" />
						<path
							d="M12 1.992a10 10 0 1 0 9.236 13.838c.341-.82-.476-1.644-1.298-1.31a6.5 6.5 0 0 1-6.864-10.787l.077-.08c.551-.63.113-1.653-.758-1.653h-.266l-.068-.006-.06-.002z" />
					</svg>
				</span>
				<f:ajax render="@none"></f:ajax>
			</button>
			<button aria-label="#{msg.button__theme_color_switch_light}" jsf:id="lightModeSwitch"
				class="btn btn--clean color-theme-switch color-theme-switch-light #{((sessionBean.get('colorTheme') eq 'color-theme-dark')) ? 'active' : ''} #{(sessionBean.get('colorTheme') eq 'color-theme-light') ? 'hide' : ''}"
				jsf:action="#{sessionBean.put('colorTheme', 'color-theme-light')}">
				
				<span class="icon-wrapper" aria-hidden="true">
					<svg xmlns="http://www.w3.org/2000/svg" width="1.25em" height="1.25em"
						viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
						stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun">
						<title>Light theme icon</title>
						<path d="M0 0h24v24H0z" stroke="none" />
						<path
							d="M8 12a4 4 0 1 0 8 0 4 4 0 1 0-8 0M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7" />
					</svg>
				</span>
				<f:ajax render="@none"></f:ajax>
			</button>
		</h:form>
			<script>
				function switchTheme(colors) {
					$('html').removeClass('color-theme-light color-theme-dark');
					$('html').addClass(colors);
				};
						
				$('##{cc.attrs.clientId}\\:darkModeSwitch').on('click', function() {
					switchTheme('color-theme-dark'); $(this).addClass('hide'); $(this).removeClass('active'); $(this).next().removeClass('hide'); $(this).next().addClass('active');
				});
				
				$('##{cc.attrs.clientId}\\:lightModeSwitch').on('click', function() {
					switchTheme('color-theme-light'); $(this).addClass('hide'); $(this).removeClass('active'); $(this).prev().removeClass('hide'); $(this).prev().addClass('active');
				});

			</script>
	</composite:implementation>
</ui:composition>

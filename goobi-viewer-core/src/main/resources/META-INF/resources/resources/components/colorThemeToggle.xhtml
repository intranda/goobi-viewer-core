<ui:composition 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:util="http://goobi.io/util"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface>
	</composite:interface>

	<composite:implementation>
		<!-- COLOR SWITCHER FUNCTION -->
		<h:form prependId="false">
        	<button aria-label="#{msg.button__theme_color_switch_dark}" jsf:id="darkModeSwitch"
				class="btn btn--clean color-theme-switch color-theme-switch-dark #{(sessionBean.get('colorTheme') eq 'color-theme-light') ? 'active' : ''} #{(sessionBean.get('colorTheme') eq 'color-theme-dark') ? 'hide' : ''}"
				jsf:action="#{sessionBean.put('colorTheme', 'color-theme-dark')}">
				<util:icon icon="moon" />
				<f:ajax render="@none"></f:ajax>
			</button>
			<button aria-label="#{msg.button__theme_color_switch_light}" jsf:id="lightModeSwitch"
				class="btn btn--clean color-theme-switch color-theme-switch-light #{((sessionBean.get('colorTheme') eq 'color-theme-dark')) ? 'active' : ''} #{(sessionBean.get('colorTheme') eq 'color-theme-light') ? 'hide' : ''}"
				jsf:action="#{sessionBean.put('colorTheme', 'color-theme-light')}">
				
				<util:icon icon="sun" />
				<f:ajax render="@none"></f:ajax>
			</button>
		</h:form>
			<script>
				function switchTheme(colors) {
					$('html').removeClass('color-theme-light color-theme-dark');
					$('html').addClass(colors);
				};
						
				$('##{cc.attrs.clientId}\\:darkModeSwitch').on('click', function() {
					switchTheme('color-theme-dark'); $(this).addClass('hide'); $(this).removeClass('active'); $(this).next().removeClass('hide'); $(this).next().addClass('active');
				});
				
				$('##{cc.attrs.clientId}\\:lightModeSwitch').on('click', function() {
					switchTheme('color-theme-light'); $(this).addClass('hide'); $(this).removeClass('active'); $(this).prev().removeClass('hide'); $(this).prev().addClass('active');
				});

			</script>
	</composite:implementation>
</ui:composition>

<ui:component
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <c:set var="variant" value="#{filled == 'true' ? 'filled' : 'outline'}" />
    <ui:param name="contextPath" value="#{facesContext.externalContext.requestContextPath}" />
    <ui:param name="iconPath" value="#{contextPath}/resources/icons/#{variant}/#{icon}.svg#icon" />

    <c:choose>
        <c:when test="#{empty ariaLabel}">
            <span class="icon-wrapper#{styleClass != null ? ' ' : ''}#{styleClass}" aria-hidden="true">
                <svg class="#{svgClass}" focusable="false">
                    <use href="#{iconPath}" />
                </svg>
            </span>
        </c:when>
        <c:otherwise>
            <span class="icon-wrapper#{styleClass != null ? ' ' : ''}#{styleClass}" role="img" aria-label="#{ariaLabel}">
                <svg class="#{svgClass}">
                    <title>#{ariaLabel}</title>
                    <use href="#{iconPath}" />
                </svg>
            </span>
        </c:otherwise>
    </c:choose>
</ui:component>

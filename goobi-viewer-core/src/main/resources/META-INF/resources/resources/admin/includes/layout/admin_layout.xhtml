<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:viewer="http://xmlns.jcp.org/jsf/composite/components/partner"
    xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
    xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
    xmlns:adminWidget="http://xmlns.jcp.org/jsf/composite/admin/widgets"
    xmlns:adminComponent="http://xmlns.jcp.org/jsf/composite/admin/components">

    <!-- MESSAGES -->
    <div class="messages">
        <h:messages id="messages" globalOnly="false" infoClass="alert alert-success" errorClass="alert alert-danger" />
    </div>

    <div class="admin">
        <!-- SIDEBAR BACKGROUND -->
        <div class="admin__sidebar-background"></div>

        <!-- SIDEBAR -->
        <aside id="adminSidebar" class="admin__sidebar">
            <div class="admin__sidebar-inner">
                <h1>
                    <a href="#{request.contextPath}/">
                        <img src="#{request.contextPath}/resources/images/goobi_logo.png" alt="Goobi Logo" />
                        <span>Goobi viewer</span>
                    </a>
                </h1>

                <!-- DASHBOARD -->
                <ui:fragment rendered="#{userBean.admin}">
                    <div class="admin__sidebar-dashboard admin-widget">
                        <div class="admin-widget__header">#{msg.admin__general_title}</div>
                        <ul>
                            <li class="#{navigationHelper.currentPage == 'adminDashboard' ? 'active' : ''}">
                                <a href="#{request.contextPath}/admin/">
                                    <i class="fa fa-tachometer" aria-hidden="true"></i>
                                    <span>#{msg.admin__dashboard}</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </ui:fragment>

                <!-- WIDGETS -->
                <div class="admin__sidebar-widgets">
                    <adminWidget:widget_admin />
                    <adminWidget:widget_crowdsourcing />
                    <adminWidget:widget_cms />
                </div>

                <!-- LOGOUT -->
                <div class="admin__sidebar-logout admin-widget">
                    <h:form>
                        <ul>
                            <li>
                                <h:commandLink action="#{userBean.logout}">
                                    <i class="fa fa-sign-out" aria-hidden="true"></i>
                                    <span>#{msg.logout}</span>
                                </h:commandLink>
                            </li>
                        </ul>
                    </h:form>
                </div>
            </div>
        </aside>

        <!-- CONTENT BACKGROUND -->
        <div class="admin__content-background"></div>

        <!-- CONTENT -->
        <main id="adminContent" class="admin__content">
            <div class="admin__content-inner">
                <ui:insert name="content" />
            </div>
        </main>
    </div>
</ui:composition>

<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Fri Oct 11 12:49:15 UTC 2024 -->
<title>DisplayConditions (Goobi viewer - Core 24.09.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-10-11">
<meta name="description" content="declaration: package: io.goobi.viewer.managedbeans, class: DisplayConditions">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DisplayConditions.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.goobi.viewer.managedbeans</a></div>
<h1 title="Class DisplayConditions" class="title">Class DisplayConditions</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.goobi.viewer.managedbeans.DisplayConditions</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations">@Named
@SessionScoped
@Eager
</span><span class="modifiers">public class </span><span class="element-name type-name-label">DisplayConditions</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">DisplayConditions tests whether GUI elements in record views should be visible by a number of factors. These factors encompass the the current
 view, access conditions and properties of the current record and page. There are two key methods to test display conditions:
 <ul>
 <li><a href="#matchRecord(java.lang.String)"><code>matchRecord(String)</code></a></li>
 <li><a href="#matchPage(java.lang.String)"><code>matchPage(String)</code></a></li>
 </ul>
 The methods check against properties of the record and of the current page respectively. Both that a pseudo-json string as an agument that is
 explained in more detail in the documentation of both methods.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../serialized-form.html#io.goobi.viewer.managedbeans.DisplayConditions">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DisplayConditions.UIComponentHelper.html" class="type-name-link" title="class in io.goobi.viewer.managedbeans">DisplayConditions.UIComponentHelper</a></code></div>
<div class="col-last even-row-color">
<div class="block">Wrapper for a <code>UIComponent</code> with convenience methods to count contained jsf components with certain attributes.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="ActiveDocumentBean.html" title="class in io.goobi.viewer.managedbeans">ActiveDocumentBean</a></code></div>
<div class="col-second even-row-color"><code><a href="#activeDocumentBean" class="member-name-link">activeDocumentBean</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="NavigationHelper.html" title="class in io.goobi.viewer.managedbeans">NavigationHelper</a></code></div>
<div class="col-second odd-row-color"><code><a href="#navigationHelper" class="member-name-link">navigationHelper</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">DisplayConditions</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearCache()" class="member-name-link">clearCache</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../model/viewer/PageType.html" title="enum class in io.goobi.viewer.model.viewer">PageType</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPageType()" class="member-name-link">getPageType</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="../model/viewer/PageType.html" title="enum class in io.goobi.viewer.model.viewer"><code>PageType</code></a> of the current page</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DisplayConditions.UIComponentHelper.html" title="class in io.goobi.viewer.managedbeans">DisplayConditions.UIComponentHelper</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTag(java.lang.String)" class="member-name-link">getTag</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get <a href="DisplayConditions.UIComponentHelper.html" title="class in io.goobi.viewer.managedbeans"><code>DisplayConditions.UIComponentHelper</code></a> for the <code>UIComponent</code> with the given identifier within the composite component from which the method is
 called.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#matchPage(java.lang.String)" class="member-name-link">matchPage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called with a string in form of a modified json object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#matchRecord(java.lang.String)" class="member-name-link">matchRecord</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called with a string in form of a modified json object.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="activeDocumentBean">
<h3>activeDocumentBean</h3>
<div class="member-signature"><span class="annotations">@Inject
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="ActiveDocumentBean.html" title="class in io.goobi.viewer.managedbeans">ActiveDocumentBean</a></span>&nbsp;<span class="element-name">activeDocumentBean</span></div>
</section>
</li>
<li>
<section class="detail" id="navigationHelper">
<h3>navigationHelper</h3>
<div class="member-signature"><span class="annotations">@Inject
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="NavigationHelper.html" title="class in io.goobi.viewer.managedbeans">NavigationHelper</a></span>&nbsp;<span class="element-name">navigationHelper</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>DisplayConditions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DisplayConditions</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="matchRecord(java.lang.String)">
<h3>matchRecord</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">matchRecord</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../exceptions/IndexUnreachableException.html" title="class in io.goobi.viewer.exceptions">IndexUnreachableException</a>,
<a href="../exceptions/DAOException.html" title="class in io.goobi.viewer.exceptions">DAOException</a>,
<a href="../exceptions/RecordNotFoundException.html" title="class in io.goobi.viewer.exceptions">RecordNotFoundException</a>,
<a href="../exceptions/PresentationException.html" title="class in io.goobi.viewer.exceptions">PresentationException</a></span></div>
<div class="block">Called with a string in form of a modified json object. The object may not contain any quotation marks and values may be preceded by a '!'
 indicating a negation of the check for this value. A typical form is
 
 <pre><code>
 { 
     contentType:[IMAGE, AUDIO, VIDEO, MODEL], 
     accessCondition: VIEW_IMAGES, 
     pageType: ![viewMetadata], 
     numPages:2 
 }
 </code></pre>
 
 The object may contain the following properties. Each given property is checked against the current view, request and record:
 <ul>
 
 <li>
 <dl>
 <dt>contentType</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: IMAGE, AUDIO, VIDEO, MODEL, ALTO, TEI, PDF, EPUB</dd>
 <dd><i>Description:</i> Content file types available for the record in the file system. If the record contains at least one of the listed file
 types, the check returns true</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>mimeType</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: image, video, audio, application, text, model (3D-Objekt), other</dd>
 <dd><i>Description:</i> Base part of the mime type set for the record in the SOLR database. Generally the mime type of the files within the
 record's media folder. This check return true if the mime type is any of the values within the list</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>accessCondition</dt>
 <dd><i>Possible values:</i> An array of any of the string values of the 'PRIV_' constants defined in <a href="../model/security/IPrivilegeHolder.html" title="interface in io.goobi.viewer.model.security"><code>IPrivilegeHolder</code></a>, which is the
 name of the constant without the 'PRIV_' prefix</dd>
 <dd><i>Description:</i> The access privilege which must be satisfied by the current request for the current record. Calls the method
 <a href="../model/security/AccessConditionUtils.html#checkAccessPermissionByIdentifierAndLogId(java.lang.String,java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest)"><code>AccessConditionUtils.checkAccessPermissionByIdentifierAndLogId(String, String, String, HttpServletRequest)</code></a> to check access</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>pageType</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: viewToc, viewThumbs, viewMetadata, viewFulltext, viewFullscreen,
 viewObject, viewCalendar, cmsPage</dd>
 <dd><i>Descrption:</i> Name of the current record page or 'view'. The condition returns true if the current view is one of the values of the
 given array</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>sourceFormat</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: METS, LIDO, DUBLINCORE, METS_MARC, DENKXWEB</dd>
 <dd><i>Description:</i> The source metadata format of the current record. This condition returns true if the format is within the given
 list.</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>docType</dt>
 <dd><i>Possible values:</i> An array of one or more doc struct types from the SOLR field 'DOCSTRCT' and some additional values document
 structure: 'group', 'groupMember', 'anchor', 'volume', 'record' and 'subStruct' (structure element within a record)</dd>
 <dd><i>Description:</i> The structure type of the current record as well as some of the additional values detailing structure hierarchy. The
 condition returns true if any of the listed values matches one or more structure properties of the current record. 'subStruct' returns true if
 a structure element within the record is selected</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>numPages</dt>
 <dd><i>Possible values:</i> The number of pages within the current record. An integer equals '0' or larger</dd>
 <dd><i>Descrption:</i>This condition returns true if the number of pages of the current record equals at least the given number.</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>tocSize</dt>
 <dd><i>Possible values:</i> The number of elements within the record's table of content. An integer equals '1' or larger</dd>
 <dd><i>Descrption:</i> This condition returns true if the table of content of the current record equals at least the given number. The record
 document itself counts towards this number so the lowest possible value is 1.</dd>
 </dl>
 </li>
 </ul>
 
 A '!' character preceding a string value means that the condition should not match the value for the check to return true; preceding an array,
 it means that none of the values within the list should match the record. Preceding a number, the '!' means that the actual value must be less
 than the given number for the condition to return true. Values for contentType and accessCondition are cached per http session and record</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>json</code> - </dd>
<dt>Returns:</dt>
<dd>true if the given conditions are met by the current record, false otherwise</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - An exception occured file system resources</dd>
<dd><code><a href="../exceptions/IndexUnreachableException.html" title="class in io.goobi.viewer.exceptions">IndexUnreachableException</a></code> - An exception occured communicating the the viewer data index (SOLR)</dd>
<dd><code><a href="../exceptions/DAOException.html" title="class in io.goobi.viewer.exceptions">DAOException</a></code> - An exception occured communicating with the viewer sql database</dd>
<dd><code><a href="../exceptions/RecordNotFoundException.html" title="class in io.goobi.viewer.exceptions">RecordNotFoundException</a></code> - The current record could not be found in the viewer data index when checking access conditions</dd>
<dd><code><a href="../exceptions/PresentationException.html" title="class in io.goobi.viewer.exceptions">PresentationException</a></code> - Any other exception encountered while checking file system resources or the SOLR database</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="matchPage(java.lang.String)">
<h3>matchPage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">matchPage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../exceptions/IndexUnreachableException.html" title="class in io.goobi.viewer.exceptions">IndexUnreachableException</a>,
<a href="../exceptions/DAOException.html" title="class in io.goobi.viewer.exceptions">DAOException</a>,
<a href="../exceptions/RecordNotFoundException.html" title="class in io.goobi.viewer.exceptions">RecordNotFoundException</a>,
<a href="../exceptions/PresentationException.html" title="class in io.goobi.viewer.exceptions">PresentationException</a></span></div>
<div class="block">Called with a string in form of a modified json object. The object may not contain any quotation marks and values may be preceded by a '!'
 indicating a negation of the check for this value. A typical form is
 
 <pre><code>
 { 
     contentType:[IMAGE, AUDIO, VIDEO, MODEL], 
     accessCondition: VIEW_IMAGES, 
     pageType: ![viewMetadata], 
 }
 </code></pre>
 
 The object may contain the following properties. Each given property is checked against the current view, request and record:
 <ul>
 
 <li>
 <dl>
 <dt>contentType</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: IMAGE, AUDIO, VIDEO, MODEL, ALTO, TEI, PDF, EPUB</dd>
 <dd><i>Description:</i> Content file types available for the current page in the file system.</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>mimeType</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: image, video, audio, application, text, model (3D-Objekt), other</dd>
 <dd><i>Description:</i> Base part of the mime type set for the page document in the SOLR database.</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>accessCondition</dt>
 <dd><i>Possible values:</i> An array of any of the string values of the 'PRIV_' constants defined in <a href="../model/security/IPrivilegeHolder.html" title="interface in io.goobi.viewer.model.security"><code>IPrivilegeHolder</code></a>, which is the
 name of the constant without the 'PRIV_' prefix</dd>
 <dd><i>Description:</i> The access privilege which must be satisfied by the current request for the current record and page. Calls the method
 <a href="../model/security/AccessConditionUtils.html#checkAccessPermissionByIdentifierAndFileNameWithSessionMap(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String,java.lang.String)"><code>AccessConditionUtils.checkAccessPermissionByIdentifierAndFileNameWithSessionMap(HttpServletRequest, String, String, String)</code></a> to check
 access</dd>
 </dl>
 </li>
 
 <li>
 <dl>
 <dt>pageType</dt>
 <dd><i>Possible values:</i> An array of one or more of the following: viewToc, viewThumbs, viewMetadata, viewFulltext, viewFullscreen,
 viewObject, viewCalendar, cmsPage</dd>
 <dd><i>Descrption:</i> Name of the current record page or 'view'. The condition returns true if the current view is one of the values of the
 given array</dd>
 </dl>
 </li>
 
 A '!' character preceding a string value means that the condition should not match the value for the check to return true; preceding an array,
 it means that none of the values within the list should match the page. Values for contentType and accessCondition are cached per http session
 and page</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>json</code> - </dd>
<dt>Returns:</dt>
<dd>true if the given conditions are met by the current page, false otherwise</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - An exception occured file system resources</dd>
<dd><code><a href="../exceptions/IndexUnreachableException.html" title="class in io.goobi.viewer.exceptions">IndexUnreachableException</a></code> - An exception occured communicating the the viewer data index (SOLR)</dd>
<dd><code><a href="../exceptions/DAOException.html" title="class in io.goobi.viewer.exceptions">DAOException</a></code> - An exception occured communicating with the viewer sql database</dd>
<dd><code><a href="../exceptions/RecordNotFoundException.html" title="class in io.goobi.viewer.exceptions">RecordNotFoundException</a></code> - The current record could not be found in the viewer data index when checking access conditions</dd>
<dd><code><a href="../exceptions/PresentationException.html" title="class in io.goobi.viewer.exceptions">PresentationException</a></code> - Any other exception encountered while checking file system resources or the SOLR database</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPageType()">
<h3>getPageType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/viewer/PageType.html" title="enum class in io.goobi.viewer.model.viewer">PageType</a></span>&nbsp;<span class="element-name">getPageType</span>()</div>
<div class="block">Get the <a href="../model/viewer/PageType.html" title="enum class in io.goobi.viewer.model.viewer"><code>PageType</code></a> of the current page</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A <a href="../model/viewer/PageType.html" title="enum class in io.goobi.viewer.model.viewer"><code>PageType</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTag(java.lang.String)">
<h3>getTag</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DisplayConditions.UIComponentHelper.html" title="class in io.goobi.viewer.managedbeans">DisplayConditions.UIComponentHelper</a></span>&nbsp;<span class="element-name">getTag</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Get <a href="DisplayConditions.UIComponentHelper.html" title="class in io.goobi.viewer.managedbeans"><code>DisplayConditions.UIComponentHelper</code></a> for the <code>UIComponent</code> with the given identifier within the composite component from which the method is
 called. This is used to count the number of rendered jsf-components with a specific attribute within said UIComponent.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearCache()">
<h3>clearCache</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearCache</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://goobi.io">Goobi</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
